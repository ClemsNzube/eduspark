{% extends 'main.html' %}
{% load static %}
{% block content %}
<!DOCTYPE html>

    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
        }
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        .school-info, .student-info {
            margin-bottom: 20px;
        }
        .grades, .attendance {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        .grades th, .attendance th {
            background-color: #f4f4f4;
            padding: 8px;
        }
        .grades td, .attendance td {
            padding: 8px;
            border: 1px solid #ddd;
        }
        .summary {
            margin-top: 20px;
            font-weight: bold;
        }
        .overall-grade {
            margin-top: 20px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
        }
    </style>


    <div class="header">
        <h1>Student Report</h1>
        <p><strong>{{ school.name }}</strong></p>
        <p>{{ school.address }}</p>
        <p>Phone: {{ school.phone }} | Email: {{ school.email }}</p>
    </div>

    <div class="student-info">
        <p><strong>Student Name:</strong> {{ student.full_name }}</p>
        <p><strong>Class:</strong> {{ student.class_name }}</p>
        <p><strong>Email:</strong> {{ student.email }}</p>
    </div>

    <div class="grades">
        <h3>Grades</h3>
        <table>
            <thead>
                <tr>
                    <th>Subject</th>
                    <th>Grade</th>
                    <th>Letter Grade</th>
                </tr>
            </thead>
            <tbody>
                {% for grade in grades %}
                    <tr>
                        <td>{{ grade.subject.name }}</td>
                        <td>{{ grade.score }}</td>
                        <td>{{ grade.letter_grade }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="attendance">
        <h3>Attendance</h3>
        <table>
            <thead>
                <tr>
                    <th>Subject</th>
                    <th>Attendance Points</th>
                </tr>
            </thead>
            <tbody>
                {% for record in attendance %}
                    <tr>
                        <td>{{ record.subject.name }}</td>
                        <td>{{ record.attendance_points }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="summary">
        <p><strong>Total Grades:</strong> {{ total_grades }}</p>
        <p><strong>Total Attendance Points:</strong> {{ total_attendance_points }}</p>
        <p><strong>Average Grade:</strong> {{ average_grade }}</p>
        <p><strong>Average Attendance:</strong> {{ average_attendance }}</p>
        <p><strong>Combined Average:</strong> {{ combined_average }}</p>
    </div>

    <div class="overall-grade">
        <p><strong>Overall Grade:</strong> {{ overall_grade }}</p>
    </div>




{% endblock %}